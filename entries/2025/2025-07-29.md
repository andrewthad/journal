# Proof-of-Concept Decompressor

I wrote a simple decompressor for a dictionary with bitpacked indices in
a directory named `packentire`. The whole function is only ten lines long,
and it materializes a compressed array of 256 32-bit unsigned words into
a buffer. Here are my notes:

* In C, it will be necessary to specialize this for several different element
  sizes. I don't think this is a huge problem.
* Currently, the implementation requires that the element count be a power
  of two. This is a little too constraining. It would make more sense to allow
  counts that are not powers of two. And then we would need to round up to the
  nearest power of two to decide how many bits are in each index. If we do
  this, we have to check each index to make sure that it is below the bound
  as we work through the indices. This means the decompress function could
  return an error code (currently, it cannot fail). This invariant is impossible
  to enforce in most type systems (include C's type system). I think that's ok.
* Currently, the bit size of the index has to be a base-two integer. This really
  hurts the compression ratio in some common cases. When we use 4 bits instead of
  3 bits, that's 33% overhead. Since the index size is at most 8 bits, I think it
  should be fine to allow is to be any number instead. Then we would end up with
  a few unused high bits in the 64-bit word.
* I need to figure out a way to measure the compression ratio and compare it
  against other stuff.

I have added a datasets directory to my library to keep track of processed
datasets that I can measure compression ratios for.
